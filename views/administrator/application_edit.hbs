<style>
   .local-generic {
      max-width: 450px;
      padding: 10px;
      margin: 4rem auto;
      font-family: sans-serif;
      font-size: 13px;
   }

   .frame-color {
      padding: 10px;
      border: 1px solid #eaecef;
      border-radius: 5px;
      background-color: #f6f8fa;
   }
</style>

<div class="container local-generic">

   <!-- Titolo -->
   <div class="text-center">
      <h1>Applicazione</h1>
   </div>

   <!-- Form -->
   <form id="submit" method="post" action="application_edit">
      <input type="text" name="_method" id="_method" hidden>
      <input type="text" name="_locked" id="_locked" hidden>
      <input type="text" name="_new" id="_new" hidden>
      <input type="text" name="_counter" id="_counter" value="{{_counter}}" hidden>

      <!-- Identificativo -->
      <div class="form-group frame-color mt-3">
         <label for="name" class="fw-bold">Nome</label>
         {{#if data._id}}
            <input class="form-control mt-1" type="text" name="_id" id="_id" value="{{data._id}}" readonly>
         {{else}}
            <input class="form-control mt-1" type="text" name="_id" id="_id" maxlength="20" required>
         {{/if}}
         <div class="invalid-feedback" id="_id_feedback"></div>
      </div>

      <!-- Titolo -->
      <div class="form-group frame-color mt-3">
         <label for="title" class="fw-bold">Titolo</label>
         <input class="form-control mt-1" type="text" name="title" id="title" maxlength="25"
                value="{{data.title}}" required>
         <div class="invalid-feedback" id="title-feedback">Specificare un titolo</div>
      </div>

      <!-- Descrizione -->
      <div class="form-group frame-color mt-3">
         <label for="descrizione" class="fw-bold">Descrizione</label>
         <input class="form-control mt-1" type="text" name="description" id="description" maxlength="60"
                value="{{data.description}}" required>
         <div class="invalid-feedback" id="description_feedback">Inserire una descrizione</div>
      </div>

      <!-- Posizione & Stato -->
      <div class="form-group frame-color mt-3">
         <div class="row">
            <div class="col-4">
               <label for="sortid" class="fw-bold">Posizione</label>
               <input class="form-control mt-1" type="number" name="sortid" id="sortid" min="0" max="999" value="{{data.sortid}}">
               <div class="invalid-feedback" id="sortid_feedback">Inserire un valore valido</div>
            </div>
            <div class="col-8">
               <label for="locked" class="fw-bold">Stato applicazione</label>
               <select class="form-select" id="locked">
                  {{#if data.locked}}
                     <option value="1">Non bloccata</option>
                     <option value="2" selected>Bloccata</option>
                  {{else}}
                     <option value="1" selected>Non bloccata</option>
                     <option value="2">Bloccata</option>
                  {{/if}}
               </select>
            </div>
         </div>
      </div>

      <!-- Pulsanti di comando -->
      <div class="mt-3 d-grid gap-2">
         <button type="button" class="btn btn-success" id="next">Procedi</button>
         {{#if data._id}}
            <button type="button" class="btn btn-danger" id="remove">Elimina</button>
         {{/if}}
         <a href="/administrator" class="btn btn-warning">Annulla</a>
      </div>
   </form>

   <!-- Eventuali messaggi -->
   {{> message}}
</div>

<script src="/js/administrator/application_edit.js"></script>